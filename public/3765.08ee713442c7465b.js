"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3765],{6769:(U,d,e)=>{e.d(d,{$:()=>_});var o=e(8256),n=e(1433),i=e(6895),u=e(4731);function t(s,v){if(1&s){const a=o.EpF();o.TgZ(0,"div",3)(1,"ion-button",4),o.NdJ("click",function(){o.CHM(a);const f=o.oxw();return o.KtG(f.onGoingBack())}),o._UZ(2,"ion-icon",5),o.qZA()()}}function g(s,v){if(1&s){const a=o.EpF();o.TgZ(0,"div",6)(1,"ion-button",4),o.NdJ("click",function(){o.CHM(a);const f=o.oxw();return o.KtG(f.onGoingHome())}),o._UZ(2,"ion-icon",7),o.qZA()()}}function l(s,v){if(1&s){const a=o.EpF();o.TgZ(0,"div",6)(1,"ion-button",4),o.NdJ("click",function(){o.CHM(a);const f=o.oxw();return o.KtG(f.customButton.click())}),o._UZ(2,"ion-icon",8),o.qZA()()}if(2&s){const a=o.oxw();o.xp6(2),o.Q6J("name",a.customButton.icon)}}let _=(()=>{class s{constructor(a){this.router=a}ngOnInit(){}onGoingHome(){this.router.navigateByUrl(this.homeUrl)}onGoingBack(){this.router.navigateByUrl(this.backUrl)}}return s.\u0275fac=function(a){return new(a||s)(o.Y36(n.F0))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-header-buttons"]],inputs:{homeUrl:"homeUrl",backUrl:"backUrl",customButton:"customButton"},decls:4,vars:3,consts:[[1,"row","mt-2","mx-0"],["class","col",4,"ngIf"],["class","col text-end",4,"ngIf"],[1,"col"],["size","small",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"col","text-end"],["slot","icon-only","name","home-sharp"],["slot","icon-only",3,"name"]],template:function(a,p){1&a&&(o.TgZ(0,"div",0),o.YNc(1,t,3,0,"div",1),o.YNc(2,g,3,0,"div",2),o.YNc(3,l,3,1,"div",2),o.qZA()),2&a&&(o.xp6(1),o.Q6J("ngIf",p.backUrl),o.xp6(1),o.Q6J("ngIf",p.homeUrl),o.xp6(1),o.Q6J("ngIf",p.customButton))},dependencies:[i.O5,u.YG,u.gu],encapsulation:2}),s})()},1576:(U,d,e)=>{e.d(d,{Y:()=>u});var o=e(6895),n=e(4731),i=e(8256);let u=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[o.ez,n.Pc]}),t})()},6280:(U,d,e)=>{e.d(d,{D:()=>u});var o=e(655),n=e(8256),i=e(4731);let u=(()=>{class t{constructor(l){this.alertController=l}presentAlert(l,_){return(0,o.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirmaci\xf3n",message:l,mode:"ios",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",role:"confirm",handler:_}]})).present()})}}return t.\u0275fac=function(l){return new(l||t)(n.LFG(i.Br))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},3765:(U,d,e)=>{e.r(d),e.d(d,{RegisterPageModule:()=>A});var o=e(6895),n=e(433),i=e(4731),u=e(7368),t=e(8256),g=e(8940),l=e(928),_=e(2414),s=e(7556),v=e(6572),a=e(1433),p=e(2424),f=e(6280),C=e(6769);function B(c,x){if(1&c){const r=t.EpF();t.TgZ(0,"form",7),t.NdJ("ngSubmit",function(){t.CHM(r);const h=t.oxw();return t.KtG(h.onSubmit())}),t.TgZ(1,"div",8)(2,"h1"),t._uU(3,"Comenzar con mi registro"),t.qZA(),t.TgZ(4,"ion-item",9)(5,"ion-label",10),t._uU(6,"Nombre completo"),t.qZA(),t._UZ(7,"ion-input",11),t.qZA(),t.TgZ(8,"ion-item",12)(9,"ion-label",10),t._uU(10,"N\xfamero de tel\xe9fono"),t.qZA(),t._UZ(11,"ion-input",13),t.qZA(),t.TgZ(12,"ion-item",12)(13,"ion-label",10),t._uU(14,"Correo Electr\xf3nico"),t.qZA(),t._UZ(15,"ion-input",14),t.qZA(),t.TgZ(16,"ion-item",12)(17,"ion-label",10),t._uU(18,"Contrase\xf1a"),t.qZA(),t._UZ(19,"ion-input",15),t.qZA()(),t.TgZ(20,"div",16)(21,"ion-label",17),t.NdJ("click",function(){t.CHM(r);const h=t.oxw();return t.KtG(h.alreadyHasCode())}),t._uU(22,"Ya tengo un c\xf3digo"),t.qZA()(),t.TgZ(23,"ion-row",18)(24,"ion-col")(25,"ion-button",19),t.NdJ("click",function(){t.CHM(r);const h=t.oxw();return t.KtG(h.onGoingHome())}),t._uU(26," CANCELAR "),t.qZA()(),t.TgZ(27,"ion-col")(28,"ion-button",20),t._uU(29),t.qZA()()()()}if(2&c){const r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(7),t.Q6J("clearInput",!0),t.xp6(4),t.Q6J("clearInput",!0),t.xp6(4),t.Q6J("clearInput",!0),t.xp6(4),t.Q6J("clearInput",!0),t.xp6(10),t.hij(" ",r.txtButtonEnter," ")}}let E=(()=>{class c{constructor(r,m,h,T,b,P,M,y,D){this.randomService=r,this.sessionService=m,this.httpResponseService=h,this.authService=T,this.validFormService=b,this.router=P,this.loadingService=M,this.confirmDialogService=y,this.platform=D,this.backUri=(0,u.T8)(),this.user={},this.txtButtonEnter="GUARDAR",this.platform.backButton.subscribeWithPriority(9999,()=>{this.router.navigateByUrl(this.backUri)})}initForm(){this.form=new n.cw({name:new n.NI("",{validators:[n.kI.required]}),phoneNumber:new n.NI("",{validators:[n.kI.required]}),email:new n.NI("",{validators:[n.kI.required]}),password:new n.NI("",{validators:[n.kI.required]})})}ngOnInit(){}ionViewWillEnter(){this.initForm()}alreadyHasCode(){this.router.navigateByUrl((0,u.fw)("1"))}onSubmit(){this.validFormService.isValid(this.form,[])&&this.confirmDialogService.presentAlert("\xbfDesea env\xedar el registro?",()=>{this.loadingService.showLoading();const r={name:this.form.controls.name.value,email:this.form.controls.email.value,password:this.form.controls.password.value,phone_number:this.form.controls.phoneNumber.value,key:this.randomService.generate(128)};this.sessionService.register(r).subscribe({next:()=>{this.authService.email=r.email,this.httpResponseService.onSuccessAndRedirect((0,u.fw)("0"),"Usuario registrado correctamente."),this.form.reset()},error:m=>{this.httpResponseService.onError(m,"No se pudo registrar el usuario")}})})}onGoingHome(){this.router.navigateByUrl(this.backUri)}}return c.\u0275fac=function(r){return new(r||c)(t.Y36(g.i),t.Y36(l.m),t.Y36(_.J),t.Y36(s.e),t.Y36(v.i),t.Y36(a.F0),t.Y36(p.b),t.Y36(f.D),t.Y36(i.t4))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-register"]],decls:7,vars:2,consts:[[1,"center"],[3,"backUrl"],[1,"principal","col-md-6","col-xl-12","mr-auto","mb-4"],[1,"pt-3","grey","lighten-2"],["align","center"],["src","https://dglibre.com/wp-content/subidas/2008/09/abiword.svg",2,"max-width","100px","max-height","64px"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"card-body","mx-2","mt-2"],[1,"mt-4","txtInput"],["position","stacked"],["formControlName","name","type","text","placeholder","Escriba su nombre",3,"clearInput"],[1,"mt-2","txtInput"],["formControlName","phoneNumber","type","tel","placeholder","8888888888",3,"clearInput"],["formControlName","email","type","email","placeholder","correo@dominio.com",3,"clearInput"],["type","password","formControlName","password","placeholder","********",3,"clearInput"],[1,"d-flex","flex-row-reverse","mt-3","me-3"],["color","tertiary txt-pwd",3,"click"],[1,"mt-3"],["color","danger","expand","full",3,"click"],["expand","full","type","submit"]],template:function(r,m){1&r&&(t.TgZ(0,"ion-content",0),t._UZ(1,"app-header-buttons",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.qZA()(),t.YNc(6,B,30,6,"form",6),t.qZA()()),2&r&&(t.xp6(1),t.Q6J("backUrl",m.backUri),t.xp6(5),t.Q6J("ngIf",m.form))},dependencies:[o.O5,n._Y,n.JJ,n.JL,n.sg,n.u,i.YG,i.wI,i.W2,i.pK,i.Ie,i.Q$,i.Nd,i.j9,C.$],encapsulation:2}),c})();var Z=e(1576);const I=[{path:"",component:E}];let A=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[o.ez,n.UX,i.Pc,a.Bz.forChild(I),Z.Y]}),c})()}}]);