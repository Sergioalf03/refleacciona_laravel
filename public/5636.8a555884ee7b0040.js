"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5636],{5636:(A,p,r)=>{r.r(p),r.d(p,{SwipeFormPageModule:()=>y});var u=r(6895),b=r(433),s=r(4731),o=r(8256),C=r(313),d=r(7368),v=r(6280),k=r(2424),f=r(3216),l=r(1433),F=r(2414);const S=["content"],w=["footer"],x=function(i){return{h5:i}};function Z(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"li",30),o.NdJ("click",function(){const m=o.CHM(e).index,h=o.oxw();return o.KtG(h.onSelectIndex(m))}),o._uU(1),o.qZA()}if(2&i){const e=c.$implicit,t=c.index,n=o.oxw();o.Akn("color: "+n.textColor),o.Q6J("ngClass",o.VKq(5,x,t===n.count)),o.xp6(1),o.AsE("",n.counts[t]," ",e,"")}}const g=function(){return{"bg-secondary":!1,"bg-light":!0}},a=[{name:"Red",backgroundCode:"#CF2D2D",textCode:"white"},{name:"Green",backgroundCode:"#03B203",textCode:"white"},{name:"Blue",backgroundCode:"#2D2DC8",textCode:"white"},{name:"Yellow",backgroundCode:"#F4F41D",textCode:"black"},{name:"Purple",backgroundCode:"#800080",textCode:"white"},{name:"Orange",backgroundCode:"#FFA500",textCode:"white"},{name:"Cyan",backgroundCode:"#09F0F0",textCode:"black"},{name:"Pink",backgroundCode:"#FFC0CB",textCode:"black"},{name:"Teal",backgroundCode:"#008080",textCode:"white"},{name:"Brown",backgroundCode:"#4F2800",textCode:"white"},{name:"black",backgroundCode:"#0B0E0B",textCode:"white"},{name:"white",backgroundCode:"#FFFFFF",textCode:"black"}],T=[{path:"",component:(()=>{class i{constructor(e,t,n,m,h,P){this.confirmDialogService=e,this.loadingService=t,this.generalCountCollectionService=n,this.router=m,this.responseService=h,this.activatedRoute=P,this.counts=[0,0,0,0,0,0,0,0,0,0,0,0],this.names=["Urbano","Sed\xe1n","Berlina","Hatchback","Cup\xe9","Descapotable","Deportivo","Todoterreno","Monovolumen","SUV","Furgoneta","Pickup"],this.backgroundColor="lightgray",this.textColor="black",this.count=0,this.startX=0,this.endX=0,this.countId="0",this.toShowCount=0,this.name="",this.auditoryId="",this.backUrl=(0,d.nH)("local")}ionViewWillEnter(){this.activatedRoute.paramMap.subscribe({next:e=>{this.auditoryId=e.get("id")||"0",this.generalCountCollectionService.getCountForm(this.auditoryId).subscribe({next:t=>{if("W"!==t&&t.values.length>0){const n=t.values[0];this.counts=[n.count1,n.count2,n.count3,n.count4,n.count5,n.count6,n.count7,n.count8,n.count9,n.count10,n.count11,n.count12],this.countId=n.id}},error:t=>this.responseService.onError(t,"No se pudo recuperar el conteo")})}}).unsubscribe()}changeColor(e){this.count+=e,this.count>11&&(this.count=0),this.count<0&&(this.count=11),this.backgroundColor=a[this.count].backgroundCode,this.textColor=a[this.count].textCode}onSelectIndex(e){this.count=e,this.backgroundColor=a[this.count].backgroundCode,this.textColor=a[this.count].textCode}ngAfterViewInit(){this.backgroundColor=a[0].backgroundCode,this.textColor=a[0].textCode}countChange(e){-1===e?this.counts[this.count]>0&&(this.counts[this.count]+=e):this.counts[this.count]+=e}onSubmit(){this.confirmDialogService.presentAlert("\xbfDesea guardar el conteo?",()=>{this.loadingService.showLoading(),"0"===this.countId?this.generalCountCollectionService.save(this.auditoryId,[...this.counts]).subscribe({next:e=>{e!==C.W&&(this.loadingService.dismissLoading(),this.router.navigateByUrl((0,d.nH)("local")))},error:e=>{this.responseService.onError(e,"No se pudo guardar el conteo")}}):this.generalCountCollectionService.update(this.countId,[...this.counts]).subscribe({next:e=>{e!==C.W&&(this.loadingService.dismissLoading(),this.router.navigateByUrl((0,d.nH)("local")))},error:e=>{this.responseService.onError(e,"No se pudo guardar el conteo")}})})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(v.D),o.Y36(k.b),o.Y36(f.P),o.Y36(l.F0),o.Y36(F.J),o.Y36(l.gz))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-swipe-form"]],viewQuery:function(e,t){if(1&e&&(o.Gf(S,5,o.SBq),o.Gf(w,5,o.SBq)),2&e){let n;o.iGM(n=o.CRH())&&(t.content=n.first),o.iGM(n=o.CRH())&&(t.footer=n.first)}},decls:43,vars:17,consts:[["id","swipeElement",1,"ion-no-border","mb-5"],["content",""],[1,"row","mt-1"],[1,"col","text-end"],[1,"btn","btn-light","me-2",3,"click"],[1,"mb-0"],[1,"mt-3"],[1,"ion-text-center"],[1,"display-1",2,"font-size","40"],[1,"mt-5"],[1,"display-1"],[1,"ion-no-border"],[1,"list-group","mb-5","bg-transparent",2,"transform","rotate(270deg)"],["class","list-group-item border-0 m-0 p-0 bg-transparent my-1 w-50",3,"ngClass","style","click",4,"ngFor","ngForOf"],["footer",""],[1,"row","mt-2","mb-2"],[1,"col-6","p-4","pt-0","pb-0","pe-2"],[1,"card","ion-button",3,"ngClass","click"],["name","arrow-back","color","black","size","large"],[1,"col-6","col-6","p-4","pb-0","pt-0","ps-2"],["name","arrow-forward","color","black","size","large"],[1,"row","mt-0","mb-0"],[1,"col-6","px-4","py-2","pe-2"],[1,"card","ion-button",3,"ngClass"],[1,"ion-text-center","mt-4","mb-2",3,"click"],["color","black","size","large","name","remove"],[1,"text-black"],[1,"col-6","px-4","py-2","ps-2"],[1,"card","button","bg-light"],["color","black","size","large","name","add"],[1,"list-group-item","border-0","m-0","p-0","bg-transparent","my-1","w-50",3,"ngClass","click"]],template:function(e,t){1&e&&(o.TgZ(0,"ion-content",0,1)(2,"div",2)(3,"div",3)(4,"button",4),o.NdJ("click",function(){return t.onSubmit()}),o._uU(5,"Finalizar"),o.qZA()()(),o.TgZ(6,"div",5)(7,"ion-row",6)(8,"ion-col",7)(9,"h1",8),o._uU(10),o.qZA()()(),o.TgZ(11,"ion-row",9)(12,"ion-col",7)(13,"h1",10),o._uU(14),o.qZA()()()()(),o.TgZ(15,"ion-footer",11)(16,"ul",12),o.YNc(17,Z,2,7,"li",13),o.qZA()(),o.TgZ(18,"ion-footer",null,14)(20,"div",15)(21,"div",16)(22,"div",17),o.NdJ("click",function(){return t.changeColor(-1)}),o.TgZ(23,"div",7),o._UZ(24,"ion-icon",18),o.qZA()()(),o.TgZ(25,"div",19)(26,"div",17),o.NdJ("click",function(){return t.changeColor(1)}),o.TgZ(27,"div",7),o._UZ(28,"ion-icon",20),o.qZA()()()()(),o.TgZ(29,"ion-footer")(30,"div",21)(31,"div",22)(32,"div",23)(33,"div",24),o.NdJ("click",function(){return t.countChange(-1)}),o._UZ(34,"ion-icon",25),o.TgZ(35,"p",26),o._uU(36,"Decrementar"),o.qZA()()()(),o.TgZ(37,"div",27)(38,"div",28)(39,"div",24),o.NdJ("click",function(){return t.countChange(1)}),o._UZ(40,"ion-icon",29),o.TgZ(41,"p",26),o._uU(42,"Incrementar"),o.qZA()()()()()()),2&e&&(o.Akn("--background: "+t.backgroundColor+"; --color: "+t.textColor+"; --border"),o.xp6(10),o.Oqu(t.names[t.count]),o.xp6(4),o.Oqu(t.counts[t.count]),o.xp6(1),o.Akn("background-color: "+t.backgroundColor+" !important; color: "+t.textColor+";"),o.xp6(2),o.Q6J("ngForOf",t.names),o.xp6(1),o.Akn("background: "+t.backgroundColor+"; --color: "+t.textColor+"; --border"),o.xp6(4),o.Q6J("ngClass",o.DdM(14,g)),o.xp6(4),o.Q6J("ngClass",o.DdM(15,g)),o.xp6(3),o.Akn("background: "+t.backgroundColor+"; --color: "+t.textColor+"; --border"),o.xp6(3),o.Q6J("ngClass",o.DdM(16,g)))},dependencies:[u.mk,u.sg,s.wI,s.W2,s.fr,s.gu,s.Nd],encapsulation:2}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[u.ez,b.u5,s.Pc,l.Bz.forChild(T),l.Bz]}),i})()}}]);