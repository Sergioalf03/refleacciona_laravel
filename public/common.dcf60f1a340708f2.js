"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{6408:(p,y,o)=>{o.d(y,{m:()=>h});const h=(0,o(7423).fo)("Share",{web:()=>o.e(7907).then(o.bind(o,7907)).then(l=>new l.ShareWeb)})},7693:(p,y,o)=>{o.d(y,{c:()=>a});var c=o(4083),h=o(7864),l=o(1898);const a=(i,n)=>{let e,r;const d=(m,t,s)=>{if(typeof document>"u")return;const _=document.elementFromPoint(m,t);_&&n(_)?_!==e&&(u(),S(_,s)):u()},S=(m,t)=>{e=m,r||(r=e);const s=e;(0,c.w)(()=>s.classList.add("ion-activated")),t()},u=(m=!1)=>{if(!e)return;const t=e;(0,c.w)(()=>t.classList.remove("ion-activated")),m&&r!==e&&e.click(),e=void 0};return(0,l.createGesture)({el:i,gestureName:"buttonActiveDrag",threshold:0,onStart:m=>d(m.currentX,m.currentY,h.a),onMove:m=>d(m.currentX,m.currentY,h.b),onEnd:()=>{u(!0),(0,h.h)(),r=void 0}})}},2225:(p,y,o)=>{o.d(y,{g:()=>c});const c=(n,e,r,d,S)=>l(n[1],e[1],r[1],d[1],S).map(u=>h(n[0],e[0],r[0],d[0],u)),h=(n,e,r,d,S)=>S*(3*e*Math.pow(S-1,2)+S*(-3*r*S+3*r+d*S))-n*Math.pow(S-1,3),l=(n,e,r,d,S)=>i((d-=S)-3*(r-=S)+3*(e-=S)-(n-=S),3*r-6*e+3*n,3*e-3*n,n).filter(m=>m>=0&&m<=1),i=(n,e,r,d)=>{if(0===n)return((n,e,r)=>{const d=e*e-4*n*r;return d<0?[]:[(-e+Math.sqrt(d))/(2*n),(-e-Math.sqrt(d))/(2*n)]})(e,r,d);const S=(3*(r/=n)-(e/=n)*e)/3,u=(2*e*e*e-9*e*r+27*(d/=n))/27;if(0===S)return[Math.pow(-u,1/3)];if(0===u)return[Math.sqrt(-S),-Math.sqrt(-S)];const m=Math.pow(u/2,2)+Math.pow(S/3,3);if(0===m)return[Math.pow(u/2,.5)-e/3];if(m>0)return[Math.pow(-u/2+Math.sqrt(m),1/3)-Math.pow(u/2+Math.sqrt(m),1/3)-e/3];const t=Math.sqrt(Math.pow(-S/3,3)),s=Math.acos(-u/(2*Math.sqrt(Math.pow(-S/3,3)))),_=2*Math.pow(t,1/3);return[_*Math.cos(s/3)-e/3,_*Math.cos((s+2*Math.PI)/3)-e/3,_*Math.cos((s+4*Math.PI)/3)-e/3]}},5062:(p,y,o)=>{o.d(y,{i:()=>c});const c=h=>h&&""!==h.dir?"rtl"===h.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},6602:(p,y,o)=>{o.r(y),o.d(y,{startFocusVisible:()=>a});const c="ion-focused",l=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],a=i=>{let n=[],e=!0;const r=i?i.shadowRoot:document,d=i||document.body,S=g=>{n.forEach(E=>E.classList.remove(c)),g.forEach(E=>E.classList.add(c)),n=g},u=()=>{e=!1,S([])},m=g=>{e=l.includes(g.key),e||S([])},t=g=>{if(e&&void 0!==g.composedPath){const E=g.composedPath().filter(O=>!!O.classList&&O.classList.contains("ion-focusable"));S(E)}},s=()=>{r.activeElement===d&&S([])};return r.addEventListener("keydown",m),r.addEventListener("focusin",t),r.addEventListener("focusout",s),r.addEventListener("touchstart",u),r.addEventListener("mousedown",u),{destroy:()=>{r.removeEventListener("keydown",m),r.removeEventListener("focusin",t),r.removeEventListener("focusout",s),r.removeEventListener("touchstart",u),r.removeEventListener("mousedown",u)},setFocus:S}}},8689:(p,y,o)=>{o.d(y,{c:()=>h});var c=o(3577);const h=n=>{const e=n;let r;return{hasLegacyControl:()=>{if(void 0===r){const S=void 0!==e.label||l(e),u=e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")&&null===e.shadowRoot,m=(0,c.h)(e);r=!0===e.legacy||!S&&!u&&null!==m}return r}}},l=n=>null!==n.shadowRoot&&!!(a.includes(n.tagName)&&null!==n.querySelector('[slot="label"]')||i.includes(n.tagName)&&""!==n.textContent),a=["ION-RANGE"],i=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"]},7864:(p,y,o)=>{o.d(y,{a:()=>a,b:()=>i,c:()=>l,d:()=>e,h:()=>n});const c={getEngine(){var r;const d=window;return d.TapticEngine||(null===(r=d.Capacitor)||void 0===r?void 0:r.isPluginAvailable("Haptics"))&&d.Capacitor.Plugins.Haptics},available(){var r;const d=window;return!!this.getEngine()&&("web"!==(null===(r=d.Capacitor)||void 0===r?void 0:r.getPlatform())||typeof navigator<"u"&&void 0!==navigator.vibrate)},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(r){const d=this.getEngine();if(!d)return;const S=this.isCapacitor()?r.style.toUpperCase():r.style;d.impact({style:S})},notification(r){const d=this.getEngine();if(!d)return;const S=this.isCapacitor()?r.style.toUpperCase():r.style;d.notification({style:S})},selection(){this.impact({style:"light"})},selectionStart(){const r=this.getEngine();!r||(this.isCapacitor()?r.selectionStart():r.gestureSelectionStart())},selectionChanged(){const r=this.getEngine();!r||(this.isCapacitor()?r.selectionChanged():r.gestureSelectionChanged())},selectionEnd(){const r=this.getEngine();!r||(this.isCapacitor()?r.selectionEnd():r.gestureSelectionEnd())}},h=()=>c.available(),l=()=>{h()&&c.selection()},a=()=>{h()&&c.selectionStart()},i=()=>{h()&&c.selectionChanged()},n=()=>{h()&&c.selectionEnd()},e=r=>{h()&&c.impact(r)}},7366:(p,y,o)=>{o.d(y,{a:()=>c,b:()=>t,c:()=>e,d:()=>s,e:()=>D,f:()=>n,g:()=>_,h:()=>l,i:()=>h,j:()=>L,k:()=>f,l:()=>r,m:()=>u,n:()=>g,o:()=>S,p:()=>i,q:()=>a,r:()=>v,s:()=>M,t:()=>m,u:()=>E,v:()=>O,w:()=>d});const c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 64L144 256l224 192V64z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 368L256 144 64 368h384z'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",S="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",O="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",L="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",M="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",D="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},2055:(p,y,o)=>{o.d(y,{I:()=>n,a:()=>S,b:()=>i,c:()=>t,d:()=>_,f:()=>u,g:()=>d,i:()=>r,p:()=>s,r:()=>g,s:()=>m});var c=o(5861),h=o(3577),l=o(1178);const i="ion-content",n=".ion-content-scroll-host",e=`${i}, ${n}`,r=E=>"ION-CONTENT"===E.tagName,d=function(){var E=(0,c.Z)(function*(O){return r(O)?(yield new Promise(v=>(0,h.c)(O,v)),O.getScrollElement()):O});return function(v){return E.apply(this,arguments)}}(),S=E=>E.querySelector(n)||E.querySelector(e),u=E=>E.closest(e),m=(E,O)=>r(E)?E.scrollToTop(O):Promise.resolve(E.scrollTo({top:0,left:0,behavior:O>0?"smooth":"auto"})),t=(E,O,v,L)=>r(E)?E.scrollByPoint(O,v,L):Promise.resolve(E.scrollBy({top:v,left:O,behavior:L>0?"smooth":"auto"})),s=E=>(0,l.b)(E,i),_=E=>{if(r(E)){const v=E.scrollY;return E.scrollY=!1,v}return E.style.setProperty("overflow","hidden"),!0},g=(E,O)=>{r(E)?E.scrollY=O:E.style.removeProperty("overflow")}},9240:(p,y,o)=>{o.d(y,{g:()=>h});var c=o(1178);const h=(a,i,n)=>{const e=null==a?0:a.toString().length,r=l(e,i);if(void 0===n)return r;try{return n(e,i)}catch(d){return(0,c.a)("Exception in provided `counterFormatter`.",d),r}},l=(a,i)=>`${a} / ${i}`},5234:(p,y,o)=>{o.r(y),o.d(y,{KEYBOARD_DID_CLOSE:()=>h,KEYBOARD_DID_OPEN:()=>c,copyVisualViewport:()=>O,keyboardDidClose:()=>s,keyboardDidOpen:()=>m,keyboardDidResize:()=>t,resetKeyboardAssist:()=>e,setKeyboardClose:()=>u,setKeyboardOpen:()=>S,startKeyboardAssist:()=>r,trackViewportChanges:()=>E});const c="ionKeyboardDidShow",h="ionKeyboardDidHide";let a={},i={},n=!1;const e=()=>{a={},i={},n=!1},r=v=>{d(v),v.visualViewport&&(i=O(v.visualViewport),v.visualViewport.onresize=()=>{E(v),m()||t(v)?S(v):s(v)&&u(v)})},d=v=>{v.addEventListener("keyboardDidShow",L=>S(v,L)),v.addEventListener("keyboardDidHide",()=>u(v))},S=(v,L)=>{_(v,L),n=!0},u=v=>{g(v),n=!1},m=()=>!n&&a.width===i.width&&(a.height-i.height)*i.scale>150,t=v=>n&&!s(v),s=v=>n&&i.height===v.innerHeight,_=(v,L)=>{const M=new CustomEvent(c,{detail:{keyboardHeight:L?L.keyboardHeight:v.innerHeight-i.height}});v.dispatchEvent(M)},g=v=>{const L=new CustomEvent(h);v.dispatchEvent(L)},E=v=>{a=Object.assign({},i),i=O(v.visualViewport)},O=v=>({width:Math.round(v.width),height:Math.round(v.height),offsetTop:v.offsetTop,offsetLeft:v.offsetLeft,pageTop:v.pageTop,pageLeft:v.pageLeft,scale:v.scale})},9852:(p,y,o)=>{o.d(y,{c:()=>h});var c=o(3457);const h=l=>{let a,i,n;const e=()=>{a=()=>{n=!0,l&&l(!0)},i=()=>{n=!1,l&&l(!1)},null==c.w||c.w.addEventListener("keyboardWillShow",a),null==c.w||c.w.addEventListener("keyboardWillHide",i)};return e(),{init:e,destroy:()=>{null==c.w||c.w.removeEventListener("keyboardWillShow",a),null==c.w||c.w.removeEventListener("keyboardWillHide",i),a=i=void 0},isKeyboardVisible:()=>n}}},7741:(p,y,o)=>{o.d(y,{S:()=>h});const h={bubbles:{dur:1e3,circles:9,fn:(l,a,i)=>{const n=l*a/i-l+"ms",e=2*Math.PI*a/i;return{r:5,style:{top:9*Math.sin(e)+"px",left:9*Math.cos(e)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(l,a,i)=>{const n=a/i,e=l*n-l+"ms",r=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":e}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(l,a)=>({r:6,style:{left:9-9*a+"px","animation-delay":-110*a+"ms"}})},lines:{dur:1e3,lines:8,fn:(l,a,i)=>({y1:14,y2:26,style:{transform:`rotate(${360/i*a+(a<i/2?180:-180)}deg)`,"animation-delay":l*a/i-l+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(l,a,i)=>({y1:12,y2:20,style:{transform:`rotate(${360/i*a+(a<i/2?180:-180)}deg)`,"animation-delay":l*a/i-l+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(l,a,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*a+(a<6?180:-180)}deg)`,"animation-delay":l*a/i-l+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(l,a,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*a+(a<6?180:-180)}deg)`,"animation-delay":l*a/i-l+"ms"}})}}},7539:(p,y,o)=>{o.r(y),o.d(y,{createSwipeBackGesture:()=>i});var c=o(3577),h=o(5062),l=o(1898);o(4349);const i=(n,e,r,d,S)=>{const u=n.ownerDocument.defaultView;let m=(0,h.i)(n);const s=v=>m?-v.deltaX:v.deltaX;return(0,l.createGesture)({el:n,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:v=>(m=(0,h.i)(n),(v=>{const{startX:f}=v;return m?f>=u.innerWidth-50:f<=50})(v)&&e()),onStart:r,onMove:v=>{const f=s(v)/u.innerWidth;d(f)},onEnd:v=>{const L=s(v),f=u.innerWidth,M=L/f,D=(v=>m?-v.velocityX:v.velocityX)(v),R=D>=0&&(D>.2||L>f/2),T=(R?1-M:M)*f;let w=0;if(T>5){const I=T/Math.abs(D);w=Math.min(I,540)}S(R,M<=0?.01:(0,c.l)(0,M,.9999),w)}})}},6551:(p,y,o)=>{o.d(y,{m:()=>c});const c=[{id:1,text:"Noreste",short:"NE"},{id:2,text:"Norte",short:"N"},{id:3,text:"Noroeste",short:"NO"},{id:4,text:"Este",short:"E"},{id:5,text:"Oeste",short:"O"},{id:6,text:"Sureste",short:"SE"},{id:7,text:"Sur",short:"S"},{id:8,text:"Suroeste",short:"SO"}]},6764:(p,y,o)=>{o.d(y,{p:()=>c});const c=[{id:1,text:"autom\xf3vil"},{id:2,text:"pick-up"},{id:3,text:"minvan"}]},4372:(p,y,o)=>{o.d(y,{A:()=>r});var c=o(655),h=o(1067),l=o(6408),a=o(8256),i=o(4731),n=o(2424),e=o(2414);let r=(()=>{class d{constructor(u,m,t){this.platform=u,this.loadingService=m,this.responseService=t}downloadBlob(u,m,t){return(0,c.mG)(this,void 0,void 0,function*(){const _=new RegExp(" ","g"),g=`${m.replace(_,"-")}.${t}`;if(this.platform.is("ios")||this.platform.is("android")&&!this.platform.is("desktop")&&!this.platform.is("mobileweb")){const E=new FileReader;E.readAsDataURL(u),E.onloadend=()=>(0,c.mG)(this,void 0,void 0,function*(){h.fy.writeFile({path:g,data:E.result,directory:h.tP.Cache}).then(()=>h.fy.getUri({directory:h.tP.Cache,path:g})).then(v=>l.m.share({title:g,text:g,url:v.uri})).then(()=>{this.loadingService.dismissLoading()}).catch(v=>this.responseService.onError(v,"No se pudo descargar el archivo"))})}else if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(u,g),this.loadingService.dismissLoading();else{const E=window.document.createElement("a");E.href=window.URL.createObjectURL(new Blob([u],{type:"text/csv"})),E.download=g,document.body.appendChild(E),E.click(),document.body.removeChild(E),this.loadingService.dismissLoading()}})}}return d.\u0275fac=function(u){return new(u||d)(a.LFG(i.t4),a.LFG(n.b),a.LFG(e.J))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6572:(p,y,o)=>{o.d(y,{i:()=>l});var c=o(8256),h=o(7837);let l=(()=>{class a{constructor(n){this.toastService=n}isValid(n,e){if(!n.valid)return this.toastService.showErrorToast("Formulario incompleto"),Object.keys(n.controls).forEach(d=>{const S=n.get(d).errors;null!=S&&Object.keys(S).forEach(u=>{console.log("Key control: "+d+", keyError: "+u+", err value: ",S[u])})}),!1;const r=e.find(d=>d.required&&!d.selected);return!r||(this.toastService.showErrorToast(`Seleccione ${r.name}`),!1)}}return a.\u0275fac=function(n){return new(n||a)(c.LFG(h.k))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},6118:(p,y,o)=>{o.d(y,{A:()=>a});var c=o(8256),h=o(3269),l=o(9641);let a=(()=>{class i{constructor(e,r){this.databaseService=e,this.httpService=r}localSave(e){const r=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO auditory_evidences (auditory_id, dir, creation_date)\n      VALUES (${e.auditoryId}, "${e.dir}", "${r}");\n    `)}getEvidencesByAuditory(e){return this.databaseService.executeQuery(`SELECT * FROM auditory_evidences WHERE auditory_id = ${e};`)}getLastInsertedDir(){return this.databaseService.executeQuery("SELECT MAX(id) AS id, dir FROM auditory_evidences LIMIT 1;")}localRemove(e){return this.databaseService.executeQuery(`DELETE FROM auditory_evidences WHERE dir = "${e}";`)}uploadImage(e,r,d,S){let u=new FormData;return u.append("image",e),u.append("auditory_id",r),u.append("creation_date",d),u.append("dir",S),this.httpService.postFile("/auditory/upload-auditory-evidence",u)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(h.k),c.LFG(l.g))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},1032:(p,y,o)=>{o.d(y,{P:()=>S});var c=o(1135),h=o(5698),l=o(313),a=o(8256),i=o(9641),n=o(3269),e=o(6250),r=o(928);const d="/auditory";let S=(()=>{class u{constructor(t,s,_,g){this.httpService=t,this.databaseService=s,this.photoService=_,this.sessionService=g}getRemoteList(){return this.httpService.get(`${d}/list`)}getRemoteDetail(t){return this.httpService.get(`${d}/detail/${t}`)}downloadPdf(t){return this.httpService.downloadGet(`${d}/pdf/${t}`)}upload(t){return this.httpService.post(`${d}/import`,t)}localSave(t){const s=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO auditories (title, date, time, description, lat, lng, status, creation_date, update_date, user_id)\n      VALUES ("${t.title}", "${t.date}", "${t.time}", "${t.description}", "${t.lat}", "${t.lng}", 1, "${s}", "${s}", ${this.sessionService.userId});\n    `)}getLastSavedId(){return this.databaseService.executeQuery(`SELECT MAX(id) AS id FROM auditories WHERE status = 1 AND user_id = ${this.sessionService.userId} LIMIT 1;`)}getLocalList(){const t=this.sessionService.userId,s=new c.X(l.W);return this.databaseService.executeQuery(`SELECT id, title, date, status FROM auditories WHERE (status = 1 OR status = 2) AND user_id = ${t};`).subscribe({next:_=>{if(_!==l.W){const g=[];_.values.length>0?_.values.forEach((E,O,v)=>{setTimeout(()=>{this.databaseService.executeQuery(`SELECT questions.section_id FROM answers JOIN questions ON questions.id = answers.question_id WHERE answers.auditory_id = ${E.id} ORDER BY answers.id DESC LIMIT 1`).subscribe({next:L=>{L!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`SELECT count(*) as answers FROM answers WHERE auditory_id = ${E.id};`).subscribe({next:f=>{f!==l.W&&setTimeout(()=>{this.databaseService.executeQuery("SELECT count(*) as questions FROM questions WHERE status = 1").subscribe({next:M=>{M!==l.W&&(g.push({id:E.id,title:E.title,date:E.date,status:f.values[0].answers===M.values[0].questions?1:0,lastIndex:L.values[0]?L.values[0].section_id:1,answersCompleted:f.values[0].answers===M.values[0].questions}),g.length===v.length&&s.next(g))}})},60*O-20)}})},60*O-40)}})},60*O)}):s.next(g)}}}),s.asObservable().pipe((0,h.q)(2))}getLocalForm(t){return this.databaseService.executeQuery(`SELECT * FROM auditories WHERE id = ${t} AND (status = 1 OR status = 2);`)}getUpdateData(t){return this.databaseService.executeQuery(`SELECT * FROM auditories WHERE id = ${t};`)}updateLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE auditories SET title = "${s.title}", date = "${s.date}", time = "${s.time}", description = "${s.description}", lat = "${s.lat}", lng = "${s.lng}", update_date = "${_}" WHERE id = ${t};`)}updateExternalId(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE auditories SET remote_id = ${s}, update_date = "${_}" WHERE id = ${t};`)}closeLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE auditories SET close_note = "${s}", status = 2, update_date = "${_}" WHERE id = ${t};`)}deleteLocal(t){const s=new c.X(l.W);return this.databaseService.executeQuery(`SELECT dir FROM auditory_evidences WHERE auditory_id = ${t}`).subscribe(_=>{_!==l.W&&(_.values.forEach(g=>{this.photoService.removeLocalAuditoryEvidence(g.dir)}),this.databaseService.executeQuery(`DELETE FROM auditory_evidences WHERE auditory_id = ${t}`).subscribe(g=>{g!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`SELECT dir FROM answer_evidences WHERE auditory_id = ${t}`).subscribe(E=>{E!==l.W&&(E.values.forEach(O=>{this.photoService.removeLocalAnswerEvidence(O.dir)}),setTimeout(()=>{this.databaseService.executeQuery(`DELETE FROM answer_evidences WHERE auditory_id = ${t}`).subscribe(O=>{O!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`DELETE FROM answers WHERE auditory_id = ${t}`).subscribe(v=>{v!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`\n                                            DELETE FROM auditories\n                                            WHERE id = ${t};\n                                          `).subscribe({next:()=>s.next("deleted")})},20)})},20)})},20))})},30)}))}),s.pipe((0,h.q)(2))}finalDelete(t){return this.databaseService.executeQuery(`DELETE FROM auditories WHERE id = ${t};`)}getFinalNotes(t){return this.databaseService.executeQuery(`SELECT close_note FROM auditories WHERE id = ${t}`)}}return u.\u0275fac=function(t){return new(t||u)(a.LFG(i.g),a.LFG(n.k),a.LFG(e.T),a.LFG(r.m))},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},8920:(p,y,o)=>{o.d(y,{G:()=>a});var c=o(8256),h=o(3269),l=o(9641);let a=(()=>{class i{constructor(e,r){this.databaseService=e,this.httpService=r}localSave(e){const r=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO belt_auditory_evidences (belt_auditory_id, dir, creation_date)\n      VALUES (${e.auditoryId}, "${e.dir}", "${r}");\n    `)}getEvidencesByAuditory(e){return this.databaseService.executeQuery(`SELECT * FROM belt_auditory_evidences WHERE belt_auditory_id = ${e};`)}getLastInsertedDir(){return this.databaseService.executeQuery("SELECT MAX(id) AS id, dir FROM belt_auditory_evidences LIMIT 1;")}localRemove(e){return this.databaseService.executeQuery(`DELETE FROM belt_auditory_evidences WHERE dir = "${e}";`)}uploadImage(e,r,d,S){let u=new FormData;return u.append("image",e),u.append("belt_auditory_id",r),u.append("creation_date",d),u.append("dir",S),this.httpService.postFile("/belt-auditory/upload-auditory-evidence",u)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(h.k),c.LFG(l.g))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8022:(p,y,o)=>{o.d(y,{E:()=>S});var c=o(1135),h=o(5698),l=o(313),a=o(8256),i=o(9641),n=o(3269),e=o(6250),r=o(928);const d="/belt-auditory";let S=(()=>{class u{constructor(t,s,_,g){this.httpService=t,this.databaseService=s,this.photoService=_,this.sessionService=g}localSave(t){const s=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO belt_auditory (title, date, time, description, lat, lng, status, creation_date, update_date, user_id)\n      VALUES ("${t.title}", "${t.date}", "${t.time}", "${t.description}", "${t.lat}", "${t.lng}", 1, "${s}", "${s}", ${this.sessionService.userId});\n    `)}getLastSavedId(){return this.databaseService.executeQuery(`SELECT MAX(id) AS id FROM belt_auditory WHERE status = 1 AND user_id = ${this.sessionService.userId} LIMIT 1;`)}getLocalList(){const t=this.sessionService.userId,s=new c.X(l.W);return this.databaseService.executeQuery(`SELECT belt_auditory.id, title, date, status, belt_auditory_count.id AS countId FROM belt_auditory LEFT JOIN belt_auditory_count ON belt_auditory.id = belt_auditory_count.belt_auditory_id WHERE user_id = ${t};`).subscribe({next:_=>{if(_!==l.W){const g=[];_.values.length>0?_.values.forEach((E,O,v)=>{setTimeout(()=>{g.push({id:E.id,title:E.title,date:E.date,status:E.countId?2:1,countId:E.countId}),g.length===v.length&&s.next(g)})}):s.next(g)}}}),s.asObservable().pipe((0,h.q)(2))}getLocalForm(t){return this.databaseService.executeQuery(`SELECT * FROM belt_auditory WHERE id = ${t} AND (status = 1 OR status = 2);`)}getUpdateData(t){return this.databaseService.executeQuery(`SELECT * FROM belt_auditory WHERE id = ${t};`)}updateLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE belt_auditory SET title = "${s.title}", date = "${s.date}", time = "${s.time}", description = "${s.description}", lat = "${s.lat}", lng = "${s.lng}", update_date = "${_}" WHERE id = ${t};`)}finishAuditory(t){const s=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE belt_auditory SET status = 2, update_date = "${s}" WHERE id = ${t};`)}updateExternalId(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE belt_auditory SET remote_id = ${s}, update_date = "${_}" WHERE id = ${t};`)}closeLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE belt_auditory SET close_note = "${s}", status = 2, update_date = "${_}" WHERE id = ${t};`)}deleteLocal(t){const s=new c.X(l.W);return this.databaseService.executeQuery(`SELECT dir FROM belt_auditory_evidences WHERE belt_auditory_id = ${t}`).subscribe(_=>{_!==l.W&&(_.values.forEach(g=>{this.photoService.removeLocalAuditoryEvidence(g.dir)}),this.databaseService.executeQuery(`DELETE FROM belt_auditory_evidences WHERE belt_auditory_id = ${t}`).subscribe(g=>{g!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`DELETE FROM belt_auditory_count WHERE belt_auditory_id = ${t}`).subscribe(E=>{E!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`\n                            DELETE FROM belt_auditory\n                            WHERE id = ${t};\n                          `).subscribe({next:()=>s.next("deleted")})},20)})},20)}))}),s.pipe((0,h.q)(2))}finalDelete(t){return this.databaseService.executeQuery(`DELETE FROM belt_auditory WHERE id = ${t};`)}getFinalNotes(t){return this.databaseService.executeQuery(`SELECT close_note FROM belt_auditory WHERE id = ${t}`)}getRemoteList(){return this.httpService.get(`${d}/list`)}getRemoteDetail(t){return this.httpService.get(`${d}/detail/${t}`)}downloadPdf(t){return this.httpService.downloadGet(`${d}/pdf/${t}`)}upload(t){return this.httpService.post(`${d}/import`,t)}}return u.\u0275fac=function(t){return new(t||u)(a.LFG(i.g),a.LFG(n.k),a.LFG(e.T),a.LFG(r.m))},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},3863:(p,y,o)=>{o.d(y,{P:()=>a});var c=o(8256),h=o(3269),l=o(928);let a=(()=>{class i{constructor(e,r){this.databaseService=e,this.sessionService=r,this.list=[]}save(e){const r=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO belt_auditory_count (belt_auditory_id, origin, destination, adults_count, belts_count, child_count, chairs_count, coopilot, overuse_count, vehicle_type, creation_date, update_date)\n      VALUES ("${e.belt_auditory_id}", "${e.origin}", "${e.destination}", "${e.beltUserCount}", "${e.beltCount}", "${e.chairUserCount}", "${e.chairCount}", "0", "0", "${e.vehicleType}", "${r}", "${r}");\n    `)}update(e,r){const d=(new Date).toISOString();return this.databaseService.executeQuery(`\n      UPDATE belt_auditory_count\n      SET origin = "${r.origin}", destination = "${r.destination}", adults_count = "${r.beltUserCount}", belts_count = "${r.beltCount}", child_count = "${r.chairUserCount}", chairs_count = "${r.chairCount}", update_date = "${d}"\n      WHERE id = ${e};\n    `)}getCount(e){return this.databaseService.executeQuery(`\n      SELECT COUNT(*) AS total FROM belt_auditory_count WHERE belt_auditory_id = ${e};\n    `)}getList(e){return this.databaseService.executeQuery(`\n      SELECT * FROM belt_auditory_count WHERE belt_auditory_id = ${e};\n    `)}delete(e){return this.databaseService.executeQuery(`\n      DELETE FROM belt_auditory_count WHERE id = ${e};\n    `)}getByAuditoryId(e){return this.databaseService.executeQuery(`\n      SELECT * FROM belt_auditory_count WHERE belt_auditory_id = ${e} limit 1;\n    `)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(h.k),c.LFG(l.m))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8246:(p,y,o)=>{o.d(y,{I:()=>a});var c=o(8256),h=o(3269),l=o(9641);let a=(()=>{class i{constructor(e,r){this.databaseService=e,this.httpService=r}localSave(e){const r=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO general_count_auditory_evidences (general_count_auditory_id, dir, creation_date)\n      VALUES (${e.auditoryId}, "${e.dir}", "${r}");\n    `)}getEvidencesByAuditory(e){return this.databaseService.executeQuery(`SELECT * FROM general_count_auditory_evidences WHERE general_count_auditory_id = ${e};`)}getLastInsertedDir(){return this.databaseService.executeQuery("SELECT MAX(id) AS id, dir FROM general_count_auditory_evidences LIMIT 1;")}localRemove(e){return this.databaseService.executeQuery(`DELETE FROM general_count_auditory_evidences WHERE dir = "${e}";`)}uploadImage(e,r,d,S){let u=new FormData;return u.append("image",e),u.append("general_count_auditory_id",r),u.append("creation_date",d),u.append("dir",S),this.httpService.postFile("/general-count-auditory/upload-auditory-evidence",u)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(h.k),c.LFG(l.g))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2342:(p,y,o)=>{o.d(y,{B:()=>S});var c=o(1135),h=o(5698),l=o(313),a=o(8256),i=o(9641),n=o(3269),e=o(6250),r=o(928);const d="/general-count-auditory";let S=(()=>{class u{constructor(t,s,_,g){this.httpService=t,this.databaseService=s,this.photoService=_,this.sessionService=g}localSave(t){const s=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO general_count_auditory (title, date, time, description, lat, lng, status, creation_date, update_date, user_id)\n      VALUES ("${t.title}", "${t.date}", "${t.time}", "${t.description}", "${t.lat}", "${t.lng}", 1, "${s}", "${s}", ${this.sessionService.userId});\n    `)}getLastSavedId(){return this.databaseService.executeQuery(`SELECT MAX(id) AS id FROM general_count_auditory WHERE status = 1 AND user_id = ${this.sessionService.userId} LIMIT 1;`)}getLocalList(){const t=this.sessionService.userId,s=new c.X(l.W);return this.databaseService.executeQuery(`\n        SELECT\n          general_count_auditory.id,\n          general_count_auditory.title,\n          general_count_auditory.date,\n          general_count_auditory.status,\n          general_count_auditory_count.id AS countId\n        FROM general_count_auditory\n        LEFT JOIN general_count_auditory_count ON general_count_auditory.id = general_count_auditory_count.general_count_auditory_id\n        WHERE general_count_auditory.user_id = ${t};`).subscribe({next:_=>{if(_!==l.W){const g=[];_.values&&_.values.length>0?_.values.forEach((E,O,v)=>{setTimeout(()=>{g.push({id:E.id,title:E.title,date:E.date,status:E.countId?2:1,countId:E.countId}),g.length===v.length&&s.next(g)})}):s.next(g)}}}),s.asObservable().pipe((0,h.q)(2))}getLocalForm(t){return this.databaseService.executeQuery(`SELECT * FROM general_count_auditory WHERE id = ${t} AND (status = 1 OR status = 2);`)}getUpdateData(t){return this.databaseService.executeQuery(`SELECT * FROM general_count_auditory WHERE id = ${t};`)}updateLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE general_count_auditory SET title = "${s.title}", date = "${s.date}", time = "${s.time}", description = "${s.description}", lat = "${s.lat}", lng = "${s.lng}", update_date = "${_}" WHERE id = ${t};`)}finishAuditory(t){const s=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE general_count_auditory SET status = 2, update_date = "${s}" WHERE id = ${t};`)}updateExternalId(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE general_count_auditory SET remote_id = ${s}, update_date = "${_}" WHERE id = ${t};`)}closeLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE general_count_auditory SET close_note = "${s}", status = 2, update_date = "${_}" WHERE id = ${t};`)}deleteLocal(t){const s=new c.X(l.W);return this.databaseService.executeQuery(`SELECT dir FROM general_count_auditory_evidences WHERE general_count_auditory_id = ${t}`).subscribe(_=>{_!==l.W&&(_.values.forEach(g=>{this.photoService.removeLocalAuditoryEvidence(g.dir)}),this.databaseService.executeQuery(`DELETE FROM general_count_auditory_evidences WHERE general_count_auditory_id = ${t}`).subscribe(g=>{g!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`DELETE FROM general_count_auditory_count WHERE general_count_auditory_id = ${t}`).subscribe(E=>{E!==l.W&&setTimeout(()=>{this.databaseService.executeQuery(`\n                            DELETE FROM general_count_auditory\n                            WHERE id = ${t};\n                          `).subscribe({next:()=>s.next("deleted")})},20)})},20)}))}),s.pipe((0,h.q)(2))}finalDelete(t){return this.databaseService.executeQuery(`DELETE FROM general_count_auditory WHERE id = ${t};`)}getFinalNotes(t){return this.databaseService.executeQuery(`SELECT close_note FROM general_count_auditory WHERE id = ${t}`)}getRemoteList(){return this.httpService.get(`${d}/list`)}getRemoteDetail(t){return this.httpService.get(`${d}/detail/${t}`)}downloadPdf(t){return this.httpService.downloadGet(`${d}/pdf/${t}`)}upload(t){return this.httpService.post(`${d}/import`,t)}}return u.\u0275fac=function(t){return new(t||u)(a.LFG(i.g),a.LFG(n.k),a.LFG(e.T),a.LFG(r.m))},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},3216:(p,y,o)=>{o.d(y,{P:()=>a});var c=o(8256),h=o(3269),l=o(928);let a=(()=>{class i{constructor(e,r){this.databaseService=e,this.sessionService=r,this.list=[]}save(e,r){const d=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO general_count_auditory_count (\n        general_count_auditory_id, count1, count2, count3, count4, count5, count6, count7, count8, count9, count10, count11, count12, creation_date, update_date)\n        VALUES ("${e}", "${r[0]}", "${r[1]}", "${r[2]}", "${r[3]}", "${r[4]}", "${r[5]}", "${r[6]}", "${r[7]}", "${r[8]}", "${r[9]}", "${r[10]}", "${r[11]}", "${d}", "${d}");\n    `)}update(e,r){const d=(new Date).toISOString();return this.databaseService.executeQuery(`\n      UPDATE general_count_auditory_count SET\n        count1 = "${r[0]}",\n        count2 = "${r[1]}",\n        count3 = "${r[2]}",\n        count4 = "${r[3]}",\n        count5 = "${r[4]}",\n        count6 = "${r[5]}",\n        count7 = "${r[6]}",\n        count8 = "${r[7]}",\n        count9 = "${r[8]}",\n        count10 = "${r[9]}",\n        count11 = "${r[10]}",\n        count12 = "${r[11]}",\n        update_date = "${d}"\n        WHERE id = id;\n    `)}getCountForm(e){return this.databaseService.executeQuery(`\n    SELECT * FROM general_count_auditory_count WHERE general_count_auditory_id = ${e} limit 1;\n  `)}getCount(e){return this.databaseService.executeQuery(`\n      SELECT COUNT(*) AS total FROM general_count_auditory_count WHERE general_count_auditory_id = ${e};\n    `)}getList(e){return this.databaseService.executeQuery(`\n      SELECT * FROM general_count_auditory_count WHERE general_count_auditory_id = ${e};\n    `)}delete(e){return this.databaseService.executeQuery(`\n      DELETE FROM general_count_auditory_count WHERE id = ${e};\n    `)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(h.k),c.LFG(l.m))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2740:(p,y,o)=>{o.d(y,{R:()=>a});var c=o(8256),h=o(3269),l=o(9641);let a=(()=>{class i{constructor(e,r){this.databaseService=e,this.httpService=r}localSave(e){const r=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO helmet_auditory_evidences (helmet_auditory_id, dir, creation_date)\n      VALUES (${e.auditoryId}, "${e.dir}", "${r}");\n    `)}getEvidencesByAuditory(e){return this.databaseService.executeQuery(`SELECT * FROM helmet_auditory_evidences WHERE helmet_auditory_id = ${e};`)}getLastInsertedDir(){return this.databaseService.executeQuery("SELECT MAX(id) AS id, dir FROM helmet_auditory_evidences LIMIT 1;")}localRemove(e){return this.databaseService.executeQuery(`DELETE FROM helmet_auditory_evidences WHERE dir = "${e}";`)}uploadImage(e,r,d,S){let u=new FormData;return u.append("image",e),u.append("helmet_auditory_id",r),u.append("creation_date",d),u.append("dir",S),this.httpService.postFile("/helmet-auditory/upload-auditory-evidence",u)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(h.k),c.LFG(l.g))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},1005:(p,y,o)=>{o.d(y,{G:()=>S});var c=o(313),h=o(1135),l=o(5698),a=o(8256),i=o(9641),n=o(3269),e=o(6250),r=o(928);const d="/helmet-auditory";let S=(()=>{class u{constructor(t,s,_,g){this.httpService=t,this.databaseService=s,this.photoService=_,this.sessionService=g}localSave(t){const s=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO helmet_auditory (title, date, time, description, lat, lng, status, creation_date, update_date, user_id)\n      VALUES ("${t.title}", "${t.date}", "${t.time}", "${t.description}", "${t.lat}", "${t.lng}", 1, "${s}", "${s}", ${this.sessionService.userId});\n    `)}getLastSavedId(){return this.databaseService.executeQuery(`SELECT MAX(id) AS id FROM helmet_auditory WHERE status = 1 AND user_id = ${this.sessionService.userId} LIMIT 1;`)}getLocalList(){const t=this.sessionService.userId,s=new h.X(c.W);return this.databaseService.executeQuery(`SELECT helmet_auditory.id, title, date, status, helmet_auditory_count.id AS countId FROM helmet_auditory LEFT JOIN helmet_auditory_count ON helmet_auditory.id = helmet_auditory_count.helmet_auditory_id WHERE user_id = ${t};`).subscribe({next:_=>{if(_!==c.W){const g=[];_.values.length>0?_.values.forEach((E,O,v)=>{setTimeout(()=>{g.push({id:E.id,title:E.title,date:E.date,status:E.countId?2:1,countId:E.countId}),g.length===v.length&&s.next(g)})}):s.next(g)}}}),s.asObservable().pipe((0,l.q)(2))}getLocalForm(t){return this.databaseService.executeQuery(`SELECT * FROM helmet_auditory WHERE id = ${t} AND (status = 1 OR status = 2);`)}getUpdateData(t){return this.databaseService.executeQuery(`SELECT * FROM helmet_auditory WHERE id = ${t};`)}updateLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE helmet_auditory SET title = "${s.title}", date = "${s.date}", time = "${s.time}", description = "${s.description}", lat = "${s.lat}", lng = "${s.lng}", update_date = "${_}" WHERE id = ${t};`)}finishAuditory(t){const s=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE helmet_auditory SET status = 2, update_date = "${s}" WHERE id = ${t};`)}updateExternalId(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE helmet_auditory SET remote_id = ${s}, update_date = "${_}" WHERE id = ${t};`)}closeLocal(t,s){const _=(new Date).toISOString();return this.databaseService.executeQuery(`UPDATE helmet_auditory SET close_note = "${s}", status = 2, update_date = "${_}" WHERE id = ${t};`)}deleteLocal(t){const s=new h.X(c.W);return this.databaseService.executeQuery(`SELECT dir FROM helmet_auditory_evidences WHERE helmet_auditory_id = ${t}`).subscribe(_=>{_!==c.W&&(_.values.forEach(g=>{this.photoService.removeLocalAuditoryEvidence(g.dir)}),this.databaseService.executeQuery(`DELETE FROM helmet_auditory_evidences WHERE helmet_auditory_id = ${t}`).subscribe(g=>{g!==c.W&&setTimeout(()=>{this.databaseService.executeQuery(`DELETE FROM helmet_auditory_count WHERE helmet_auditory_id = ${t}`).subscribe(E=>{E!==c.W&&setTimeout(()=>{this.databaseService.executeQuery(`\n                            DELETE FROM helmet_auditory\n                            WHERE id = ${t};\n                          `).subscribe({next:()=>s.next("deleted")})},20)})},20)}))}),s.pipe((0,l.q)(2))}finalDelete(t){return this.databaseService.executeQuery(`DELETE FROM helmet_auditory WHERE id = ${t};`)}getFinalNotes(t){return this.databaseService.executeQuery(`SELECT close_note FROM helmet_auditory WHERE id = ${t}`)}getRemoteList(){return this.httpService.get(`${d}/list`)}getRemoteDetail(t){return this.httpService.get(`${d}/detail/${t}`)}downloadPdf(t){return this.httpService.downloadGet(`${d}/pdf/${t}`)}upload(t){return this.httpService.post(`${d}/import`,t)}}return u.\u0275fac=function(t){return new(t||u)(a.LFG(i.g),a.LFG(n.k),a.LFG(e.T),a.LFG(r.m))},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},4112:(p,y,o)=>{o.d(y,{C:()=>a});var c=o(8256),h=o(3269),l=o(928);let a=(()=>{class i{constructor(e,r){this.databaseService=e,this.sessionService=r,this.list=[]}save(e){const r=(new Date).toISOString();return this.databaseService.executeQuery(`\n      INSERT INTO helmet_auditory_count (helmet_auditory_id, origin, destination, users_count, helmets_count, creation_date, update_date)\n      VALUES ("${e.helmet_auditory_id}", "${e.origin}", "${e.destination}", "${e.helmetlessCount}", "${e.helmetCount}", "${r}", "${r}");\n    `)}update(e,r){const d=(new Date).toISOString();return this.databaseService.executeQuery(`\n      UPDATE helmet_auditory_count\n      SET origin = "${r.origin}", destination = "${r.destination}", users_count = "${r.helmetlessCount}", helmets_count = "${r.helmetCount}", update_date = "${d}"\n      WHERE id = ${e};\n    `)}getCount(e){return this.databaseService.executeQuery(`\n      SELECT COUNT(*) AS total FROM helmet_auditory_count WHERE helmet_auditory_id = ${e};\n    `)}getList(e){return this.databaseService.executeQuery(`\n      SELECT * FROM helmet_auditory_count WHERE helmet_auditory_id = ${e};\n    `)}delete(e){return this.databaseService.executeQuery(`\n      DELETE FROM helmet_auditory_count WHERE id = ${e};\n    `)}getByAuditoryId(e){return this.databaseService.executeQuery(`\n      SELECT * FROM helmet_auditory_count WHERE helmet_auditory_id = ${e} limit 1;\n    `)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(h.k),c.LFG(l.m))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},5757:(p,y,o)=>{o.d(y,{a:()=>l});var c=o(8256),h=o(3269);let l=(()=>{class a{constructor(n){this.dbService=n}getLocalQuestions(){return this.dbService.executeQuery("SELECT * FROM questions;")}getSection(n){return this.dbService.executeQuery(`SELECT * FROM sections WHERE id = ${n};`)}getSectionIds(){return this.dbService.executeQuery("SELECT id FROM sections WHERE status = 1 ORDER BY indx ASC")}getLocalQuestionsBySection(n,e){return this.dbService.executeQuery(`SELECT questions.*, answers.value as answer, answer_evidences.dir FROM questions LEFT JOIN answers ON answers.question_id = questions.id AND answers.auditory_id = ${e} LEFT JOIN answer_evidences ON answer_evidences.question_id = questions.id AND answers.auditory_id = ${e} WHERE questions.section_id = ${n} AND (questions.status = 1 OR answers.id IS NOT NULL);`)}getPointsResume(n){return this.dbService.executeQuery(`SELECT answers.value as answer FROM questions JOIN answers ON answers.question_id = questions.id AND answers.auditory_id = ${n} WHERE questions.score = "1";`)}}return a.\u0275fac=function(n){return new(n||a)(c.LFG(h.k))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);