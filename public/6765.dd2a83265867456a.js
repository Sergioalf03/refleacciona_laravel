"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6765],{6765:(C,m,n)=>{n.r(m),n.d(m,{AuditoryFinishFormPageModule:()=>x});var l=n(6895),r=n(433),a=n(7002),d=n(1433),t=n(8256),c=n(1032),h=n(5757),g=n(6572),f=n(6280),y=n(7837),F=n(6769);function v(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){t.CHM(o);const u=t.oxw();return t.KtG(u.onSubmit())}),t.TgZ(1,"div",3)(2,"h1"),t._uU(3,"Resultados"),t.qZA(),t.TgZ(4,"p",4),t._uU(5,"Con las repuestas ingresadas en la auditor\xeda se consiguieron los siguientes acumulados:"),t.qZA(),t.TgZ(6,"h5",5),t._uU(7),t.qZA(),t.TgZ(8,"h5"),t._uU(9),t.qZA(),t.TgZ(10,"div",6),t._uU(11," Notas finales "),t.qZA(),t.TgZ(12,"ion-item",7),t._UZ(13,"ion-textarea",8),t.qZA(),t.TgZ(14,"div",9)(15,"div",10)(16,"ion-button",11),t.NdJ("click",function(){t.CHM(o);const u=t.oxw();return t.KtG(u.onReturn())}),t._uU(17," REGRESAR "),t.qZA()(),t.TgZ(18,"div",10)(19,"ion-button",12),t._uU(20," TERMINAR "),t._UZ(21,"span",13),t.qZA()()()()()}if(2&i){const o=t.oxw();t.Q6J("formGroup",o.form),t.xp6(7),t.hij("Puntuaci\xf3n Si: ",o.yesCount,""),t.xp6(2),t.hij("Puntuaci\xf3n No: ",o.notCount,""),t.xp6(4),t.Q6J("autoGrow",!0),t.xp6(6),t.Q6J("disabled",o.submitLoading),t.xp6(2),t.Q6J("hidden",!o.submitLoading)}}const p=[{path:"",component:(()=>{class i{constructor(o,e,u,Z,P,U,S){this.auditoryService=o,this.questionService=e,this.validFormService=u,this.confirmDialogService=Z,this.toastService=P,this.route=U,this.router=S,this.auditoryId="0",this.backUrl="/auditory-list",this.yesCount=0,this.notCount=0,this.submitLoading=!1}ngOnInit(){}initForm(){this.form=new r.cw({notes:new r.NI("")})}ionViewDidEnter(){this.yesCount=0,this.notCount=0,this.initForm(),this.route.paramMap.subscribe({next:o=>{o.has("auditoryId")||this.router.navigateByUrl("/auditory-list"),this.auditoryId=o.get("auditoryId")||"0",this.questionService.getPointsResume(this.auditoryId).subscribe({next:e=>{"waiting"!==e&&e.values.forEach(u=>{"1"===u.answer?this.yesCount++:this.notCount++})}})}})}ionViewWillLeave(){this.auditoryId="0",this.backUrl="/auditory-list",this.yesCount=0,this.notCount=0,this.form=new r.cw({})}onSubmit(){this.validFormService.isValid(this.form,[])&&this.confirmDialogService.presentAlert("\xbfDesea guardar los cambios?",()=>{this.submitLoading=!0,this.auditoryService.closeLocal(this.auditoryId,this.form.controls.notes.value).subscribe({next:()=>{this.submitLoading=!1,this.router.navigateByUrl("/auditory-list")}})})}onReturn(){this.router.navigateByUrl(`/question-form/${this.auditoryId}/7`)}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(c.P),t.Y36(h.a),t.Y36(g.i),t.Y36(f.D),t.Y36(y.k),t.Y36(d.gz),t.Y36(d.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-auditory-finish-form"]],decls:3,vars:2,consts:[["homeUrl","/home",3,"backUrl"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mx-3","mt-4"],[1,"ion-text-justify","mt-3"],[1,"mt-2"],[1,"mt-5"],[1,"txtInput"],["formControlName","notes","type","text","rows","3","placeholder","Agregue una conclusi\xf3n o nota",3,"autoGrow"],[1,"row","mt-5"],[1,"col"],["color","danger","expand","full",3,"click"],["expand","full","type","submit",3,"disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"hidden"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-content"),t._UZ(1,"app-header-buttons",0),t.YNc(2,v,22,6,"form",1),t.qZA()),2&o&&(t.xp6(1),t.Q6J("backUrl",e.backUrl),t.xp6(1),t.Q6J("ngIf",e.form))},dependencies:[l.O5,r._Y,r.JJ,r.JL,r.sg,r.u,a.YG,a.W2,a.Ie,a.g2,a.j9,F.$],encapsulation:2}),i})()}];let A=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild(p),d.Bz]}),i})();var b=n(1576);let x=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.ez,r.UX,a.Pc,A,b.Y]}),i})()}}]);