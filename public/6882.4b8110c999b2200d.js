"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6882],{6769:(E,h,r)=>{r.d(h,{$:()=>I});var o=r(8256),e=r(1433),m=r(6895),v=r(4731);function t(s,f){if(1&s){const l=o.EpF();o.TgZ(0,"div",3)(1,"ion-button",4),o.NdJ("click",function(){o.CHM(l);const g=o.oxw();return o.KtG(g.onGoingBack())}),o._UZ(2,"ion-icon",5),o.qZA()()}}function x(s,f){if(1&s){const l=o.EpF();o.TgZ(0,"div",6)(1,"ion-button",4),o.NdJ("click",function(){o.CHM(l);const g=o.oxw();return o.KtG(g.onGoingHome())}),o._UZ(2,"ion-icon",7),o.qZA()()}}function k(s,f){if(1&s){const l=o.EpF();o.TgZ(0,"div",6)(1,"ion-button",4),o.NdJ("click",function(){o.CHM(l);const g=o.oxw();return o.KtG(g.customButton.click())}),o._UZ(2,"ion-icon",8),o.qZA()()}if(2&s){const l=o.oxw();o.xp6(2),o.Q6J("name",l.customButton.icon)}}let I=(()=>{class s{constructor(l){this.router=l}ngOnInit(){}onGoingHome(){this.router.navigateByUrl(this.homeUrl)}onGoingBack(){this.router.navigateByUrl(this.backUrl)}}return s.\u0275fac=function(l){return new(l||s)(o.Y36(e.F0))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-header-buttons"]],inputs:{homeUrl:"homeUrl",backUrl:"backUrl",customButton:"customButton"},decls:4,vars:3,consts:[[1,"row","mt-2","mx-0"],["class","col",4,"ngIf"],["class","col text-end",4,"ngIf"],[1,"col"],["size","small",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"col","text-end"],["slot","icon-only","name","home-sharp"],["slot","icon-only",3,"name"]],template:function(l,d){1&l&&(o.TgZ(0,"div",0),o.YNc(1,t,3,0,"div",1),o.YNc(2,x,3,0,"div",2),o.YNc(3,k,3,1,"div",2),o.qZA()),2&l&&(o.xp6(1),o.Q6J("ngIf",d.backUrl),o.xp6(1),o.Q6J("ngIf",d.homeUrl),o.xp6(1),o.Q6J("ngIf",d.customButton))},dependencies:[m.O5,v.YG,v.gu],encapsulation:2}),s})()},1576:(E,h,r)=>{r.d(h,{Y:()=>v});var o=r(6895),e=r(4731),m=r(8256);let v=(()=>{class t{}return t.\u0275fac=function(k){return new(k||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[o.ez,e.Pc]}),t})()},6882:(E,h,r)=>{r.r(h),r.d(h,{EmailConfirmationPageModule:()=>T});var o=r(6895),e=r(433),m=r(4731),v=r(7368),t=r(8256),x=r(7556),k=r(6572),I=r(2414),s=r(1433),f=r(2424),l=r(6769);function d(u,C){if(1&u){const n=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(1,"div",4)(2,"h1"),t._uU(3,"Confirmaci\xf3n de correo"),t.qZA(),t.TgZ(4,"p",5),t._uU(5,"Introduce el c\xf3digo que se te envio a tu correo electr\xf3nico"),t.qZA(),t.TgZ(6,"div",6)(7,"div",7)(8,"input",8,9),t.NdJ("click",function(){t.CHM(n);const i=t.MAs(9),c=t.oxw();return t.KtG(c.setInputFocus(i))})("keyup",function(i){t.CHM(n);const c=t.MAs(12),_=t.oxw();return t.KtG("Backspace"===i.key||_.setInputFocus(c))}),t.qZA()(),t.TgZ(10,"div",7)(11,"input",10,11),t.NdJ("click",function(){t.CHM(n);const i=t.MAs(12),c=t.oxw();return t.KtG(c.setInputFocus(i))})("keyup",function(i){t.CHM(n);const c=t.MAs(9),_=t.MAs(15),p=t.oxw();return t.KtG(p.setInputFocus("Backspace"===i.key?c:_))}),t.qZA()(),t.TgZ(13,"div",7)(14,"input",12,13),t.NdJ("click",function(){t.CHM(n);const i=t.MAs(15),c=t.oxw();return t.KtG(c.setInputFocus(i))})("keyup",function(i){t.CHM(n);const c=t.MAs(12),_=t.MAs(18),p=t.oxw();return t.KtG(p.setInputFocus("Backspace"===i.key?c:_))}),t.qZA()(),t.TgZ(16,"div",7)(17,"input",14,15),t.NdJ("click",function(){t.CHM(n);const i=t.MAs(18),c=t.oxw();return t.KtG(c.setInputFocus(i))})("keyup",function(i){t.CHM(n);const c=t.MAs(15),_=t.MAs(21),p=t.oxw();return t.KtG(p.setInputFocus("Backspace"===i.key?c:_))}),t.qZA()(),t.TgZ(19,"div",7)(20,"input",16,17),t.NdJ("click",function(){t.CHM(n);const i=t.MAs(21),c=t.oxw();return t.KtG(c.setInputFocus(i))})("keyup",function(i){t.CHM(n);const c=t.MAs(18),_=t.MAs(24),p=t.oxw();return t.KtG(p.setInputFocus("Backspace"===i.key?c:_))}),t.qZA()(),t.TgZ(22,"div",7)(23,"input",18,19),t.NdJ("click",function(){t.CHM(n);const i=t.MAs(24),c=t.oxw();return t.KtG(c.setInputFocus(i))})("keyup",function(i){t.CHM(n);const c=t.MAs(21),_=t.oxw();return t.KtG("Backspace"!==i.key||_.setInputFocus(c))}),t.qZA()()(),t.TgZ(25,"ion-item",20)(26,"ion-label",21),t._uU(27,"*Correo"),t.qZA(),t._UZ(28,"ion-input",22),t.qZA(),t.TgZ(29,"div",23)(30,"ion-button",24),t._uU(31,"ACEPTAR"),t.qZA()()()()}if(2&u){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(25),t.Q6J("hidden",!n.showEmail),t.xp6(3),t.Q6J("clearInput",!0)}}let g=(()=>{class u{constructor(n,a,i,c,_,p,A){this.authService=n,this.validFormService=a,this.responseService=i,this.route=c,this.loadingService=_,this.platform=p,this.router=A,this.backUri=(0,v.T8)(),this.showEmail=!1,this.platform.backButton.subscribeWithPriority(9999,()=>{this.router.navigateByUrl(this.backUri)})}initForm(){this.form=new e.cw({code1:new e.NI("",{validators:[e.kI.required,e.kI.maxLength(1)]}),code2:new e.NI("",{validators:[e.kI.required,e.kI.maxLength(1)]}),code3:new e.NI("",{validators:[e.kI.required,e.kI.maxLength(1)]}),code4:new e.NI("",{validators:[e.kI.required,e.kI.maxLength(1)]}),code5:new e.NI("",{validators:[e.kI.required,e.kI.maxLength(1)]}),code6:new e.NI("",{validators:[e.kI.required,e.kI.maxLength(1)]}),email:new e.NI(this.authService.email,{validators:[e.kI.required]})})}ngOnInit(){this.showEmail=!1,this.route.paramMap.subscribe({next:n=>{this.showEmail="1"===n.get("withMail")}}).unsubscribe()}ionViewWillEnter(){this.initForm()}onSubmit(){this.validFormService.isValid(this.form,[])&&(this.loadingService.showLoading(),this.authService.confirmEmail(this.form.controls.email.value,`${this.form.controls.code1.value}${this.form.controls.code2.value}${this.form.controls.code3.value}${this.form.controls.code4.value}${this.form.controls.code5.value}${this.form.controls.code6.value}`).subscribe({next:()=>this.responseService.onSuccessAndRedirect(this.backUri,"Correo confirmado"),error:a=>this.responseService.onError(a,"No se pudo confirmar el correo")}))}setInputFocus(n){if(n.focus){const a=n.value.length;n.setSelectionRange(a,a),n.focus()}else n.setFocus()}}return u.\u0275fac=function(n){return new(n||u)(t.Y36(x.e),t.Y36(k.i),t.Y36(I.J),t.Y36(s.gz),t.Y36(f.b),t.Y36(m.t4),t.Y36(s.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-email-confirmation"]],decls:4,vars:2,consts:[[3,"backUrl"],[1,"principal","col-md-6","col-xl-12","mr-auto","mb-4"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"card-body","mx-2","mt-2"],[1,"text-center"],[1,"row","px-5"],[1,"col","px-1"],["type","tel","maxlength","1","formControlName","code1",1,"form-control","text-center",3,"click","keyup"],["i1",""],["type","tel","maxlength","1","formControlName","code2",1,"form-control","text-center",3,"click","keyup"],["i2",""],["type","tel","maxlength","1","formControlName","code3",1,"form-control","text-center",3,"click","keyup"],["i3",""],["type","tel","maxlength","1","formControlName","code4",1,"form-control","text-center",3,"click","keyup"],["i4",""],["type","tel","maxlength","1","formControlName","code5",1,"form-control","text-center",3,"click","keyup"],["i5",""],["type","tel","maxlength","1","formControlName","code6",1,"form-control","text-center",3,"click","keyup"],["i6",""],[1,"mt-4","txtInput",3,"hidden"],["position","floating"],["type","email","formControlName","email","placeholder","correo@dominio.com",3,"clearInput"],[1,"d-flex","flex-row-reverse","mt-3"],["expand","full","type","submit"]],template:function(n,a){1&n&&(t._UZ(0,"app-header-buttons",0),t.TgZ(1,"ion-content")(2,"div",1),t.YNc(3,d,32,3,"form",2),t.qZA()()),2&n&&(t.Q6J("backUrl",a.backUri),t.xp6(3),t.Q6J("ngIf",a.form))},dependencies:[o.O5,e._Y,e.Fj,e.JJ,e.JL,e.nD,e.sg,e.u,m.YG,m.W2,m.pK,m.Ie,m.Q$,m.j9,l.$],encapsulation:2}),u})();var M=r(1576);const y=[{path:"",component:g}];let T=(()=>{class u{}return u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[o.ez,s.Bz.forChild(y),e.UX,m.Pc,M.Y]}),u})()}}]);