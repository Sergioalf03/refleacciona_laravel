"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6252],{6252:(I,f,u)=>{u.r(f),u.d(f,{EmailConfirmationPageModule:()=>h});var p=u(6895),o=u(433),m=u(7002),t=u(8256),_=u(7556),d=u(6572),g=u(2414);function x(c,l){if(1&c){const e=t.EpF();t.TgZ(0,"form",5),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t.TgZ(1,"div",6)(2,"h1"),t._uU(3,"Confirmaci\xf3n de correo"),t.qZA(),t.TgZ(4,"p",7),t._uU(5,"Introduce el c\xf3digo que se te envio a tu correo electr\xf3nico"),t.qZA(),t.TgZ(6,"div",8)(7,"div",9)(8,"input",10,11),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(9),r=t.oxw();return t.KtG(r.setInputFocus(n))})("keyup",function(n){t.CHM(e);const r=t.MAs(12),s=t.oxw();return t.KtG("Backspace"===n.key||s.setInputFocus(r))}),t.qZA()(),t.TgZ(10,"div",9)(11,"input",12,13),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(12),r=t.oxw();return t.KtG(r.setInputFocus(n))})("keyup",function(n){t.CHM(e);const r=t.MAs(9),s=t.MAs(15),a=t.oxw();return t.KtG(a.setInputFocus("Backspace"===n.key?r:s))}),t.qZA()(),t.TgZ(13,"div",9)(14,"input",14,15),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(15),r=t.oxw();return t.KtG(r.setInputFocus(n))})("keyup",function(n){t.CHM(e);const r=t.MAs(12),s=t.MAs(18),a=t.oxw();return t.KtG(a.setInputFocus("Backspace"===n.key?r:s))}),t.qZA()(),t.TgZ(16,"div",9)(17,"input",16,17),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(18),r=t.oxw();return t.KtG(r.setInputFocus(n))})("keyup",function(n){t.CHM(e);const r=t.MAs(15),s=t.MAs(21),a=t.oxw();return t.KtG(a.setInputFocus("Backspace"===n.key?r:s))}),t.qZA()(),t.TgZ(19,"div",9)(20,"input",18,19),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(21),r=t.oxw();return t.KtG(r.setInputFocus(n))})("keyup",function(n){t.CHM(e);const r=t.MAs(18),s=t.MAs(24),a=t.oxw();return t.KtG(a.setInputFocus("Backspace"===n.key?r:s))}),t.qZA()(),t.TgZ(22,"div",9)(23,"input",20,21),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(24),r=t.oxw();return t.KtG(r.setInputFocus(n))})("keyup",function(n){t.CHM(e);const r=t.MAs(21),s=t.oxw();return t.KtG("Backspace"!==n.key||s.setInputFocus(r))}),t.qZA()()(),t.TgZ(25,"div",22)(26,"ion-button",23),t._uU(27,"ACEPTAR"),t.qZA()()()()}if(2&c){const e=t.oxw();t.Q6J("formGroup",e.form)}}let k=(()=>{class c{constructor(e,i,n){this.authService=e,this.validFormService=i,this.responseService=n,this.submitLoading=!1}initForm(){this.form=new o.cw({code1:new o.NI("",{validators:[o.kI.required,o.kI.maxLength(1)]}),code2:new o.NI("",{validators:[o.kI.required,o.kI.maxLength(1)]}),code3:new o.NI("",{validators:[o.kI.required,o.kI.maxLength(1)]}),code4:new o.NI("",{validators:[o.kI.required,o.kI.maxLength(1)]}),code5:new o.NI("",{validators:[o.kI.required,o.kI.maxLength(1)]}),code6:new o.NI("",{validators:[o.kI.required,o.kI.maxLength(1)]})})}ngOnInit(){}ionViewWillEnter(){this.initForm()}onSubmit(){this.validFormService.isValid(this.form,[])&&(this.submitLoading=!0,this.authService.confirmEmail(this.authService.userId,`${this.form.controls.code1.value}${this.form.controls.code2.value}${this.form.controls.code3.value}${this.form.controls.code4.value}${this.form.controls.code5.value}${this.form.controls.code6.value}`).subscribe({next:()=>this.responseService.onSuccessAndRedirect("/login","Correo confirmado"),error:i=>this.responseService.onError(i,"No se pudo confirmar el correo")}))}setInputFocus(e){if(e.focus){const i=e.value.length;e.setSelectionRange(i,i),e.focus()}else e.setFocus()}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(_.e),t.Y36(d.i),t.Y36(g.J))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-email-confirmation"]],decls:7,vars:1,consts:[["color","primary"],["slot","start"],["defaultHref","/login","text",""],[1,"principal","col-md-6","col-xl-12","mr-auto","mb-4"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"card-body","mx-2","mt-2"],[1,"text-center"],[1,"row","px-5"],[1,"col","px-1"],["type","tel","maxlength","1","formControlName","code1",1,"form-control","text-center",3,"click","keyup"],["i1",""],["type","tel","maxlength","1","formControlName","code2",1,"form-control","text-center",3,"click","keyup"],["i2",""],["type","tel","maxlength","1","formControlName","code3",1,"form-control","text-center",3,"click","keyup"],["i3",""],["type","tel","maxlength","1","formControlName","code4",1,"form-control","text-center",3,"click","keyup"],["i4",""],["type","tel","maxlength","1","formControlName","code5",1,"form-control","text-center",3,"click","keyup"],["i5",""],["type","tel","maxlength","1","formControlName","code6",1,"form-control","text-center",3,"click","keyup"],["i6",""],[1,"d-flex","flex-row-reverse","mt-3"],["expand","full","type","submit"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA()()(),t.TgZ(4,"ion-content")(5,"div",3),t.YNc(6,x,28,1,"form",4),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngIf",i.form))},dependencies:[p.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,m.oU,m.YG,m.Sm,m.W2,m.Gu,m.sr,m.cs],encapsulation:2}),c})();var v=u(1433);const C=[{path:"",component:k}];let h=(()=>{class c{}return c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[p.ez,v.Bz.forChild(C),o.UX,m.Pc]}),c})()}}]);