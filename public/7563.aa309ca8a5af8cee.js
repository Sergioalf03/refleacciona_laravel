"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7563],{7563:(N,u,n)=>{n.r(u),n.d(u,{RegisterPageModule:()=>R});var c=n(6895),r=n(433),i=n(7002),m=n(1433),e=n(8256),d=n(8940),g=n(928),p=n(2414),h=n(7556),f=n(6572),v=n(6769);function x(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"form",7),e.NdJ("ngSubmit",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.onSubmit())}),e.TgZ(1,"div",8)(2,"h1"),e._uU(3,"Comenzar con mi registro"),e.qZA(),e.TgZ(4,"ion-item",9)(5,"ion-label",10),e._uU(6,"Nombre completo"),e.qZA(),e._UZ(7,"ion-input",11),e.qZA(),e.TgZ(8,"ion-item",12)(9,"ion-label",10),e._uU(10,"N\xfamero de tel\xe9fono"),e.qZA(),e._UZ(11,"ion-input",13),e.qZA(),e.TgZ(12,"ion-item",12)(13,"ion-label",10),e._uU(14,"Correo Electr\xf3nico"),e.qZA(),e._UZ(15,"ion-input",14),e.qZA(),e.TgZ(16,"ion-item",12)(17,"ion-label",10),e._uU(18,"Contrase\xf1a"),e.qZA(),e._UZ(19,"ion-input",15),e.qZA()(),e.TgZ(20,"div",16)(21,"ion-label",17),e._uU(22,"Ya tengo un c\xf3digo"),e.qZA()(),e.TgZ(23,"ion-row",18)(24,"ion-col")(25,"ion-button",19),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.onGoingHome())}),e._uU(26," CANCELAR "),e.qZA()(),e.TgZ(27,"ion-col")(28,"ion-button",20),e._uU(29),e._UZ(30,"span",21),e.qZA()()()()}if(2&t){const o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("clearInput",!0),e.xp6(4),e.Q6J("clearInput",!0),e.xp6(4),e.Q6J("clearInput",!0),e.xp6(4),e.Q6J("clearInput",!0),e.xp6(9),e.Q6J("disabled",o.btnLoading),e.xp6(1),e.hij(" ",o.txtButtonEnter," "),e.xp6(1),e.Q6J("hidden",!o.btnLoading)}}const b=[{path:"",component:(()=>{class t{constructor(o,s,l,A,U,S){this.randomService=o,this.sessionService=s,this.httpResponseService=l,this.authService=A,this.validFormService=U,this.router=S,this.user={},this.txtButtonEnter="GUARDAR",this.btnLoading=!1,this.btnLoading=!1}initForm(){this.form=new r.cw({name:new r.NI("",{validators:[r.kI.required]}),phoneNumber:new r.NI("",{validators:[r.kI.required]}),email:new r.NI("",{validators:[r.kI.required]}),password:new r.NI("",{validators:[r.kI.required]})})}ngOnInit(){}ionViewWillEnter(){this.initForm()}onSubmit(){if(console.log(this.form),this.validFormService.isValid(this.form,[])){this.btnLoading=!0;const o={name:this.form.controls.name.value,email:this.form.controls.email.value,password:this.form.controls.password.value,phone_number:this.form.controls.phoneNumber.value,key:this.randomService.generate(128)};this.sessionService.register(o).subscribe({next:s=>{console.log(s.data.token),this.authService.userId=s.data.id,this.httpResponseService.onSuccessAndRedirect("/email-confirmation","Usuario registrado correctamente."),this.resetForm()},error:s=>{this.httpResponseService.onError(s,""),this.resetForm()}})}}resetForm(){this.form.reset(),this.btnLoading=!1}onGoingHome(){this.router.navigateByUrl("/login")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.i),e.Y36(g.m),e.Y36(p.J),e.Y36(h.e),e.Y36(f.i),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:7,vars:1,consts:[[1,"center"],["backUrl","/login","homeUrl","/login"],[1,"principal","col-md-6","col-xl-12","mr-auto","mb-4"],[1,"pt-3","grey","lighten-2"],["align","center"],["src","https://dglibre.com/wp-content/subidas/2008/09/abiword.svg",2,"max-width","100px","max-height","64px"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"card-body","mx-2","mt-2"],[1,"mt-4","txtInput"],["position","stacked"],["formControlName","name","type","text","placeholder","Escriba su nombre",3,"clearInput"],[1,"mt-2","txtInput"],["formControlName","phoneNumber","type","tel","placeholder","8888888888",3,"clearInput"],["formControlName","email","type","email","placeholder","email@dominio.com",3,"clearInput"],["type","password","formControlName","password","placeholder","********",3,"clearInput"],["routerLink","/email-confirmation",1,"d-flex","flex-row-reverse","mt-3","me-3"],["color","tertiary txt-pwd"],[1,"mt-3"],["color","danger","expand","full",3,"click"],["expand","full","type","submit",3,"disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"hidden"]],template:function(o,s){1&o&&(e.TgZ(0,"ion-content",0),e._UZ(1,"app-header-buttons",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA()(),e.YNc(6,x,31,8,"form",6),e.qZA()()),2&o&&(e.xp6(6),e.Q6J("ngIf",s.form))},dependencies:[c.O5,r._Y,r.JJ,r.JL,r.sg,r.u,i.YG,i.wI,i.W2,i.pK,i.Ie,i.Q$,i.Nd,i.j9,i.YI,m.rH,v.$],styles:[".header[_ngcontent-%COMP%]{box-shadow:0 3px 5px #877839}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(b),m.Bz]}),t})();var I=n(1576);let R=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,r.UX,i.Pc,Z,I.Y]}),t})()}}]);